require 'rails_helper'

require_relative '../../app/helpers/discord_helper'

exp_table = [
  [0, 100],
  [1, 155],
  [2, 220],
  [3, 295],
  [4, 380],
  [5, 475],
  [6, 580],
  [7, 695],
  [8, 820],
  [9, 955],
  [10, 1100],
  [11, 1255],
  [12, 1420],
  [13, 1595],
  [14, 1780],
  [15, 1975],
  [16, 2180],
  [17, 2395],
  [18, 2620],
  [19, 2855],
  [20, 3100],
  [21, 3355],
  [22, 3620],
  [23, 3895],
  [24, 4180],
  [25, 4475],
  [26, 4780],
  [27, 5095],
  [28, 5420],
  [29, 5755],
  [30, 6100],
  [31, 6455],
  [32, 6820],
  [33, 7195],
  [34, 7580],
  [35, 7975],
  [36, 8380],
  [37, 8795],
  [38, 9220],
  [39, 9655],
  [40, 10100],
  [41, 10555],
  [42, 11020],
  [43, 11495],
  [44, 11980],
  [45, 12475],
  [46, 12980],
  [47, 13495],
  [48, 14020],
  [49, 14555],
  [50, 15100],
  [51, 15655],
  [52, 16220],
  [53, 16795],
  [54, 17380],
  [55, 17975],
  [56, 18580],
  [57, 19195],
  [58, 19820],
  [59, 20455],
  [60, 21100],
  [61, 21755],
  [62, 22420],
  [63, 23095],
  [64, 23780],
  [65, 24475],
  [66, 25180],
  [67, 25895],
  [68, 26620],
  [69, 27355],
  [70, 28100],
  [71, 28855],
  [72, 29620],
  [73, 30395],
  [74, 31180],
  [75, 31975],
  [76, 32780],
  [77, 33595],
  [78, 34420],
  [79, 35255],
  [80, 36100],
  [81, 36955],
  [82, 37820],
  [83, 38695],
  [84, 39580],
  [85, 40475],
  [86, 41380],
  [87, 42295],
  [88, 43220],
  [89, 44155],
  [90, 45100],
  [91, 46055],
  [92, 47020],
  [93, 47995],
  [94, 48980],
  [95, 49975],
  [96, 50980],
  [97, 51995],
  [98, 53020],
  [99, 54055],
  [100, 55100]]

describe 'ExpHelper tests' do
  it 'calculates exp for each level correctly' do
    exp_table.each do |e|
      puts("Testing level #{e[0]}")
      expect(DiscordHelper.exp_to_next_level?(e[0])).to equal(e[1])
    end
  end
end
